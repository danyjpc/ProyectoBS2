<nav class="navbar fixed-top navbar-expand-lg navbar-light bg-light">

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
    aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
   <!--Amabisca centrado-->
   <a class="navbar-brand" href="/">AMABISCA S.A.</a>

  <!--Formulario-->
  <div class="form-inline ml-auto">
    <input class="form-control mr-sm-2" type="search" placeholder="Buscar" aria-label="Search">
    <button class="btn btn-outline-success my-2 my-sm-0" type="submit"><i class="fa fa-search" aria-hidden="true"></i>
    </button>
  </div>

<!--Dropdown de panle administrativo-->
  <div ngbDropdown class="ml-2" *ngIf="catalogo && logueado" >
    <button class="btn btn-outline-warning" id="dropdownConfig" ngbDropdownToggle>Panel Administrativo</button>
    <div ngbDropdownMenu aria-labelledby="dropdownConfig">
      <ul class="navbar-nav ml-auto">
        <div ngbDropdown class="d-inline-block">
          <button class="btn btn-secondary" id="dropdownBasic1"
            *ngIf="admin_productos || admin_categorias || admin_unidad_medida" ngbDropdownToggle>Productos</button>
          <div ngbDropdownMenu aria-labelledby="dropdownBasic1">
            <li><button ngbDropdownItem *ngIf="admin_productos" [routerLink]="['/productos']"
                routerLinkActive="/productos">Productos</button></li>
            <li><button ngbDropdownItem *ngIf="admin_categorias" [routerLink]="['/cat-producto']"
                routerLinkActive="/productos">Categoria</button></li>
            <li><button ngbDropdownItem *ngIf="admin_unidad_medida" [routerLink]="['/umedida']"
                routerLinkActive="/productos">Unidad de medida</button></li>
          </div>
        </div>
        <!--Admin proveedores-->
        <li class="nav-item">
          <button class="btn btn-secondary" *ngIf="admin_proveedores" [routerLink]="['/proveedores']"
            routerLinkActive="/proveedores">Proveedores</button>
        </li>
        <!--Administracion de clientes-->
        <li class="nav-item">
          <button class="btn btn-secondary" *ngIf="admin_clientes" [routerLink]="['/clientes']"
            routerLinkActive="/clientes">Clientes</button>
        </li>
        <!-- Pedidos -->
        <li class="nav-item">
          <button class="btn btn-secondary" *ngIf="admin_kardex" [routerLink]="'/pedidos'"
            routerLinkActive="/pedidos">Pedidos</button>
        </li>
        <!--Administracion de ventas-->
        <div ngbDropdown class="d-inline-block">
          <button class="btn btn-secondary" id="dropdownBasic1" *ngIf="admin_facturas" ngbDropdownToggle>Ventas</button>
          <div ngbDropdownMenu aria-labelledby="dropdownBasic1">
            <li><button ngbDropdownItem [routerLink]="['/nueva-venta']"
                routerLinkActive="/nueva-venta">Nueva venta</button></li>
            <li><button ngbDropdownItem [routerLink]="['/ventas']"
                routerLinkActive="/ventas">Historial de ventas</button></li>
          </div>
        </div>
        <!--Dropdown de configurarcion-->
        <div ngbDropdown class="d-inline-block">
          <button class="btn btn-secondary" id="dropdownBasic2" *ngIf="admin_roles || admin_puestos || admin_empleados"
            ngbDropdownToggle>Configuración</button>
          <div ngbDropdownMenu aria-labelledby="dropdownBasic" class="col">
            <!--Administracion de roles-->
            <li>
              <button ngbDropdownItem *ngIf="admin_roles" [routerLink]="['/roles']"
                routerLinkActive="/roles">Roles</button>
            </li>
            <!--Administracion de puestos-->
            <li>
              <button ngbDropdownItem *ngIf="admin_puestos" [routerLink]="['/puestos']"
                routerLinkActive="/puestos">Puestos</button>
            </li>
            <!--Administracion de empleados-->
            <li>
              <button ngbDropdownItem *ngIf="admin_empleados" [routerLink]="['/empleado']"
                routerLinkActive="/empleado">Empleados</button>
            </li>           
          </div>
        </div>
        <!-- Dashboard -->
        <li class="nav-item" *ngIf="admin_empleados">
          <button class="btn btn-secondary" [routerLink]="['/dashboard']"
            routerLinkActive="/dashboard">Dashboard</button>
        </li>        
      </ul>
    </div>
  </div>

  <!--Botones login y demas-->
  <div class="collapse navbar-collapse justify-content-end" id="navbarSupportedContent">
    <ul class="navbar-nav ">
      <li class="nav-item ">
        <a class="nav-link" [routerLink]="['/login']" href="" *ngIf="!logueado">Login</a>

        <div ngbDropdown *ngIf="logueado">
          <button class="btn btn-outline-danger" id="dropdownConfig" ngbDropdownToggle>{{user}}</button>
          <div ngbDropdownMenu aria-labelledby="dropdownConfig">
            
            <button ngbDropdownItem [routerLink]="['/cambiar-contrasenia']" routerLinkActive="router-link-active" >Cambiar Contraseña</button>
            <button ngbDropdownItem (click)="logout()">Cerrar Sesión</button>

          </div>
        </div>
      </li>
      <li class="nav-item">
        <a class="nav-link" *ngIf="!logueado" href="#">Register</a>
      </li>
      <li class="nav-item">
        
        <a class="nav-link" style="border: orange solid; border-radius: 40%;" [routerLink]="['/carrito']" routerLinkActive="router-link-active"  href=""> <img style="max-width: 30px;"
            src="https://i0.pngocean.com/files/833/426/329/5bbe6867ae693.jpg" alt=""> 
            <span id="noti" *ngIf="carrito"><small><strong>1+</strong></small></span>
          </a>
      </li>
    </ul>

  </div>
</nav>
<br>
<br>
<br>
<br><br>

<div class="container col ">
  <router-outlet></router-outlet>
</div>
