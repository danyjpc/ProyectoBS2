<div class="container col-md-8 offset-md-2 float-left">
  <h4 class="mt-2">{{cant}} elementos en el carrito</h4>
  <a [routerLink]="['/catalogo']" routerLinkActive="router-link-active" href="" class="btn btn-primary btn-sm">Seguir
    comprando</a>
  <hr>
  <div class="alert alert-warning col" *ngIf="carritoVacio">No se han agregado elementos al carrito</div>
  <div class="container">
    <div *ngFor="let item of products; index as i">
      <div class="card float-left ml-1 mt-4 " style="width: 15rem; height: 25rem;">

        <div class="card-body">
          <h5 class="card-title">{{item.nom_producto}}</h5>
          <p class="card-text">{{item.descripcion}}</p>
          <button class="btn btn-outline-danger btn-sm" (click)="eliminardelCarrito(i)">Eliminar</button>
          <hr>
          <label for="cant">Cantidad: </label>
          <input type="number" class="form-control col" [(ngModel)]="item.cantidad" max="50" min="1" value="1"
            (ngModelChange)="actualizarTotal()">
        </div>
        <div class="card-footer">
          <h5>Subtotal: </h5>
          <p>Q. {{item.cantidad * item.precio_unitario}}</p>

        </div>
      </div>
    </div>
  </div>
</div>

<div class="container col-md-8 offset-md-2 mt-4 float-left text-center" *ngIf="!carritoVacio">
  <div class="card">
    <div class="card-header">
      <h2 class="card-title">Total a pagar: Q. {{totalCompra}}</h2>
      <button href="" class="btn btn-success btn-small" (click)="open(content)">Pagar</button>
    </div>
  </div>
</div>

<!-- Modal para el procesamiento de pagos -->
<ng-template #content let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Procesamiento de Pago</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="form-group">
      <!-- Contenido del modal -->
      <div class="form-group">
        <label for="formaPago" >Forma de pago</label>
        <select class="form-control" id="formaPago" [(ngModel)]="fact.modo_pago">
          <option>Tarjeta</option>
          <option>PayPal</option>
          <option>Deposito</option>
          <option>Pago en sucursal</option>
        </select>
      </div>
      
      <div class="form-group">
        <label for="formaEnvio" >Modo de env√≠o</label>
      <select class="form-control" id="formaEnvio" [(ngModel)]="fact.modo_envio">
        <option>GUTEX</option>
        <option>Cargo Expreso</option>
        <option>Recoger en tienda</option>
      </select>
      </div>
    </div>
  </div>

  <div class="modal-footer">
   <!-- <button type="button" class="btn btn-outline-dark" (click)="modal.close('Save click')">Finalizar</button> -->
    <button type="button" class="btn btn-outline-dark"  (click)="modal.dismiss('Cross click')" [routerLink]="['/nueva-venta-online']">Finalizar</button>
  </div>
</ng-template>
